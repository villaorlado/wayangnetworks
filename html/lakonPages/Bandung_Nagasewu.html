<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Digital Wayang Encyclopedia">
    <meta name="author" content="Miguel Escobar Varela">
<style>
		path { 
    stroke: steelblue;
    stroke-width: 2;
    fill: none;
}

.axis path,
.axis line {
    fill: none;
    stroke: grey;
    stroke-width: 1;
    shape-rendering: crispEdges;
}

.joint:hover{
	cursor:pointer
}

#sigma-container{
          top:0px;
          left:0px;
          width:50%;
          position:relative;
          height:300px;
          box-shadow: 1px 1px 5px #999;
        }
		</style>
    <title>
		
Bandung_Nagasewu</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/shop-item.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="../css/jquery.dataTables.min.css"></link>

    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand"  style="color:white;cursor:default">Digital Wayang Encyclopedia</a>
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="../index.html">About</a>
                    </li>
                    
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">

        <div class="row">

            <div class="col-md-3">
                <p class="lead"></p>
                <!--img src="../img/logo.jpg"></img-->
                <div class="list-group">
                    <a href="../characters.html" class="list-group-item">Characters</a>
                    <a href="../lakons.html" class="list-group-item">Story plots (lakon)</a>
                    <a href="../canonical.html" class="list-group-item">Network visualization</a>
                </div>
            </div>

            <div class="col-md-9">

                <div>
<h1>Bandung_Nagasewu</h1><div class="well" id="characters"><p>This lakon has 23 characters:  <a href='../characterPages/Samba.html'>Samba</a>, <a href='../characterPages/Guru.html'>Guru</a>, <a href='../characterPages/Gareng.html'>Gareng</a>, <a href='../characterPages/Durna.html'>Durna</a>, <a href='../characterPages/Bagong.html'>Bagong</a>, <a href='../characterPages/Udawa.html'>Udawa</a>, <a href='../characterPages/Banowati.html'>Banowati</a>, <a href='../characterPages/Antareja.html'>Antareja</a>, <a href='../characterPages/Semar.html'>Semar</a>, <a href='../characterPages/Werkudara.html'>Werkudara</a>, <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a>, <a href='../characterPages/Nagatatmala.html'>Nagatatmala</a>, <a href='../characterPages/Baladewa.html'>Baladewa</a>, <a href='../characterPages/Petruk.html'>Petruk</a>, <a href='../characterPages/Abiyasa.html'>Abiyasa</a>, <a href='../characterPages/Duryudana.html'>Duryudana</a>, <a href='../characterPages/Narada.html'>Narada</a>, <a href='../characterPages/Nagagini.html'>Nagagini</a>, <a href='../characterPages/Puntadewa.html'>Puntadewa</a>, <a href='../characterPages/Anoman.html'>Anoman</a>, <a href='../characterPages/Kresna.html'>Kresna</a>, <a href='../characterPages/Abimanyu.html'>Abimanyu</a>, <a href='../characterPages/Tunggul_Wulung.html'>Tunggul_Wulung</a>,</div><p>&nbsp;<p><h3>Pathet Nem</h3><hr><p class='adegan' id='adegan1'><b>1</b>. <span class='badge'> Jejer</span> <b>Astina</b> Astina has been conquered by Prabu Bandung <a href='../characterPages/~Nagasewu.html'>~Nagasewu</a> from Derdepenyu. The <a href='../characterPages/Korawa.html'>Korawa</a> and <a href='../characterPages/Duryudana.html'>Duryudana</a> are in jail, but <a href='../characterPages/Durna.html'>Durna</a> and <a href='../characterPages/Banowati.html'>Banowati</a> are not. Bandung <a href='../characterPages/~Nagasewu.html'>~Nagasewu</a> plans to give Astina back to the Pandawa. <a href='../characterPages/~Bayu_Bajra.html'>~Bayu_Bajra</a> is sent to Dwarawati to ask for a weapon from <a href='../characterPages/Kresna.html'>Kresna</a> to help return Astina to the Pandawa. He takes leave and departs with Patih <a href='../characterPages/~Nagabanda.html'>~Nagabanda</a>. <a href='../characterPages/Durna.html'>Durna</a> enters his meditation chambers.<p class='adegan' id='adegan2'><b>2</b>. <span class='badge'> Kedhaton</span> <b>Astina</b> Even though <a href='../characterPages/Duryudana.html'>Duryudana</a> is in jail, <a href='../characterPages/Banowati.html'>Banowati</a> has refused to become <a href='../characterPages/~Nagasewu.html'>~Nagasewu</a>'s consort. <a href='../characterPages/~Nagasewu.html'>~Nagasewu</a> has food with her and <a href='../characterPages/Durna.html'>Durna</a>. Afterwards, he enters his meditation chambers.<p class='adegan' id='adegan3'><b>3</b>. <span class='badge'> Alun-alun</span> <b>Astina</b> <a href='../characterPages/~Bayu_Bajra.html'>~Bayu_Bajra</a>, <a href='../characterPages/~Nagabanda.html'>~Nagabanda</a> and the <a href='../characterPages/TumenggungAstina.html'>TumenggungAstina</a> â€“ the best men of Astina -  are ready to go with <a href='../characterPages/~Bayu_Bajra.html'>~Bayu_Bajra</a> to Dwarawati.<p>&nbsp;<p><h3>Pathet Sanga</h3><hr><p class='adegan' id='adegan4'><b>4</b>. <span class='badge'> Jejer</span> <b>Dwarawati</b>. <a href='../characterPages/Kresna.html'>Kresna</a> talks to <a href='../characterPages/Baladewa.html'>Baladewa</a> about the situation in Astina. They agree to be ready in case of war. <a href='../characterPages/~Bayu_Bajra.html'>~Bayu_Bajra</a> arrives and asks <a href='../characterPages/Kresna.html'>Kresna</a> for a weapon but <a href='../characterPages/Baladewa.html'>Baladewa</a> does not agree to this. <a href='../characterPages/~Bayu_Bajra.html'>~Bayu_Bajra</a> is carried out by  force. <a href='../characterPages/Kresna.html'>Kresna</a> instructs <a href='../characterPages/Samba.html'>Samba</a> to look after <a href='../characterPages/Baladewa.html'>Baladewa</a>. <a href='../characterPages/Kresna.html'>Kresna</a> wants to go to Astina to confirm the existence of two <a href='../characterPages/Werkudara.html'>Werkudara</a>s.<p class='adegan' id='adegan5'><b>5</b>. <span class='badge'> Alun-alun</span> <b>Dwarawati</b> <a href='../characterPages/Baladewa.html'>Baladewa</a> and <a href='../characterPages/Udawa.html'>Udawa</a> order <a href='../characterPages/~Bayu_Bajra.html'>~Bayu_Bajra</a> and <a href='../characterPages/~Nagabanda.html'>~Nagabanda</a> to leave. <a href='../characterPages/~Bayu_Bajra.html'>~Bayu_Bajra</a> spits on them and their bodies are burnt and they cannot move. <a href='../characterPages/~Bayu_Bajra.html'>~Bayu_Bajra</a> meets <a href='../characterPages/Samba.html'>Samba</a> and tells him that <a href='../characterPages/Kresna.html'>Kresna</a> has left. <a href='../characterPages/~Bayu_Bajra.html'>~Bayu_Bajra</a> and <a href='../characterPages/~Nagabanda.html'>~Nagabanda</a> go back to Astina.<p class='adegan' id='adegan6'><b>6</b>. <span class='badge'> Wana</span> <b>TunggulForest</b>. <a href='../characterPages/Abimanyu.html'>Abimanyu</a> meets <a href='../characterPages/Abiyasa.html'>Abiyasa</a> and tells him that there are two <a href='../characterPages/Werkudara.html'>Werkudara</a>s. <a href='../characterPages/Abimanyu.html'>Abimanyu</a>, <a href='../characterPages/Semar.html'>Semar</a>, <a href='../characterPages/Bagong.html'>Bagong</a>, <a href='../characterPages/Gareng.html'>Gareng</a> and <a href='../characterPages/Petruk.html'>Petruk</a> the meet the <a href='../characterPages/WadyaBalaDhandhangMangore.html'>WadyaBalaDhandhangMangore</a> from (Batari Durga). Abiyasa sends <a href='../characterPages/Abimanyu.html'>Abimanyu</a> to the hills of Jamur Dwipa to monitor the situation.<p class='adegan' id='adegan7'><b>7</b>. <span class='badge'> Jejer</span> <b>Amarta</b> <a href='../characterPages/Werkudara.html'>Werkudara</a>, fake <a href='../characterPages/~Werkudara.html'>~Werkudara</a> and <a href='../characterPages/Puntadewa.html'>Puntadewa</a> receive <a href='../characterPages/Kresna.html'>Kresna</a>, and <a href='../characterPages/Anoman.html'>Anoman</a>. After exchanging greetings, <a href='../characterPages/Kresna.html'>Kresna</a> asks both Werkudara's questions to determine which is the real one. They are asked to wear Werkudara's clothes, and they are both able to complete this correctly. <a href='../characterPages/Anoman.html'>Anoman</a> wants to test the magic power of both Werkudaras.<p>&nbsp;<p><h3>Pathet Manyura</h3><hr><p class='adegan' id='adegan8'><b>8</b>. <span class='badge'> Kayangan</span> <b>JonggringSaloka</b>.  <a href='../characterPages/Guru.html'>Guru</a> reflects on a request from <a href='../characterPages/Tunggul_Wulung.html'>Tunggul_Wulung</a>. He is asking for a Nugraha for his descendants to rein in the land. <a href='../characterPages/Guru.html'>Guru</a> orders <a href='../characterPages/Narada.html'>Narada</a>, the Gods and the <a href='../characterPages/Durandara.html'>Durandara</a> army to go in a mission. They are asked to interrupt the meditation of <a href='../characterPages/Tunggul_Wulung.html'>Tunggul_Wulung</a>. <a href='../characterPages/Narada.html'>Narada</a> goes to the feet of the Jamur Dwipa mountain.<p class='adegan' id='adegan9'><b>9</b>. <span class='badge'> Mountain</span> <b>JamurDwipa</b>. <a href='../characterPages/Tunggul_Wulung.html'>Tunggul_Wulung</a> is meditating. The Gods try to interrupt him but not a single one is able to distract him. <a href='../characterPages/Guru.html'>Guru</a> tells him that one of his nephews will become king. This honor will be granted to whoever can find <a href='../characterPages/Tunggul_Wulung.html'>Tunggul_Wulung</a>'s place of meditation. <a href='../characterPages/Abimanyu.html'>Abimanyu</a> arrives and wants to meet <a href='../characterPages/Tunggul_Wulung.html'>Tunggul_Wulung</a>. Then <a href='../characterPages/Kresna.html'>Kresna</a> and <a href='../characterPages/Anoman.html'>Anoman</a> arrive and ask the Begawan to solve the problem in Amarta. The Begawan goes to Amarta and meets the two Werkudaras. The Beghawan is able to return the Werkudaras to their true shapes. The real <a href='../characterPages/Werkudara.html'>Werkudara</a> is an incarnation of (Batara Bayu). The fake <a href='../characterPages/~Werkudara.html'>~Werkudara</a> is made entirely from weapons. Then the two are united in one. This merged <a href='../characterPages/Werkudara.html'>Werkudara</a> leaves with <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a> for Astina.<p class='adegan' id='adegan10'><b>10</b>. <span class='badge'> Jejer</span> <b>Astina</b>. After the problem is solved, Prabu Bandung <a href='../characterPages/~Nagasewu.html'>~Nagasewu</a> meets Werkudara and he is returned to his original shape, which is <a href='../characterPages/Nagagini.html'>Nagagini</a>. <a href='../characterPages/~Nagabanda.html'>~Nagabanda</a> returns to his shape as <a href='../characterPages/Nagatatmala.html'>Nagatatmala</a>. <a href='../characterPages/~Bayu_Bajra.html'>~Bayu_Bajra</a> becomes <a href='../characterPages/Antareja.html'>Antareja</a>. And after exiting prison, <a href='../characterPages/Duryudana.html'>Duryudana</a> thanks <a href='../characterPages/Werkudara.html'>Werkudara</a> and they all eat together.</div>

<div class="row">
		
	
    <div class="col-lg-6" ></div>           
	<div class="col-lg-6" ></div>
	</div>

	<div class="row">
		
	
    <div class="col-lg-6" id="graphspace"></div>           
	<div class="col-lg-6" id="sigma-container"></div>
	</div>
            </div>

        </div>



    </div>
    <!-- /.container -->

    <div class="container">

        <hr>

        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                   <p>Programming and information by <a href="http://miguelescobar.com">Miguel Escobar Varela</a>. Research assistants: Hariyanto, Losheini Ravindran, F.X. Satriyo Nugroho, Yosephin Novi Marginingrum and Andi Wicaksono. Scientific advisor: Andrew Schauf. <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" /></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>. 
               
                </div>
            </div>
        </footer>

    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="../js/jquery.js"></script>
	<script src="../js/d3.v3.min.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="../js/bootstrap.min.js"></script>
    <script src="../sigma/sigma.js"></script>
    <script src="../sigma/plugins/sigma.parsers.gexf.min.js"></script>
    <script>
    
    // Set the dimensions of the canvas / graph
var margin = {top: 30, right: 20, bottom: 60, left: 50},
    width = 400 - margin.left - margin.right,
    height = 300 - margin.top - margin.bottom;

// Parse the date / time
var parseDate = d3.time.format("%d-%b-%y").parse;

// Set the ranges
var x = d3.scale.linear().range([0, width]);
var y = d3.scale.linear().range([height, 0]);

// Define the axes
var xAxis = d3.svg.axis().scale(x)
    .orient("bottom").ticks(5);

var yAxis = d3.svg.axis().scale(y)
    .orient("left").ticks(5);

var cn = 0;
// Define the line
var valueline = d3.svg.line()
    .x(function(d) {
      cn+=1;
      return x(cn);
    })
    .y(function(d) { return y(d.characters); });

// Adds the svg canvas
var svg = d3.select("#graphspace")
    .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
    .append("g")
        .attr("transform", 
              "translate(" + margin.left + "," + margin.top + ")");

// Get the data

namesArray = [];

d3.csv("data/Bandung_Nagasewu.csv", function(error, data) {
	var counter = 0
    data.forEach(function(d) {
        d.characters = +d.characters;
        namesArray.push(d.names);
        counter +=1;
    });

    // Scale the range of the data
    x.domain([0,counter]);
    y.domain([0, d3.max(data, function(d) { return d.characters; })]);

    // Add the valueline path.
    svg.append("path")
        .attr("class", "line")
        .attr("d", valueline(data));

// Dots
	var counter = -1;
	var counter2 = 0;
	svg.selectAll("dot")
      .data(data)
      .enter().append("circle")
        .attr("r", 6)
        .attr("id", function(d) {
          counter += 1;
          return "adeganCircle" + counter;
          
        })
        .attr("class","joint")
        .on('mouseover',function(d,i){
          var adeganNumber = this.id.replace("adeganCircle","");
          $(".joint").css("fill","black");
          $(this).css("fill","blue");
          $(".adegan").css("background","white");
          $("#adegan" + (parseInt(adeganNumber) + 1)).css("background"," #e6ecff");
          currentCharacters = namesArray[adeganNumber].split("&");
          adegan(currentCharacters);
        })
        
        .attr("cy", function(d) { return y(d.characters); })
        .attr("cx", function(d) {
          counter2 += 1;
          return x(counter2);
        });

    // Add the X Axis
    svg.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(0," + height + ")")
        .call(xAxis);

    // Add the Y Axis
    svg.append("g")
        .attr("class", "y axis")
        .call(yAxis);

	svg.append("text")      // text label for the x axis
        .attr("x", width / 2 )
        .attr("y",  height - 15+ margin.bottom)
        .style("text-anchor", "middle")
        .text("Scene number");

	svg.append("text")
       .attr("transform", "rotate(-90)")
       .attr("y", 0 - margin.left)
       .attr("x",0 - (height / 2))
       .attr("dy", "1em")
       .style("text-anchor", "middle")
       .text("Number of characters");
       
//pathet nem
	svg.append("line")
        .attr("x1", function(){return x(5)-10})
        .attr("y1", function(){return y(0)})
        .attr("x2", function(){return x(5)-10})
        .attr("y2", function(){return y(11)})
        .attr("class","label-line")
        .attr("stroke-width", 2)
        .attr("stroke", "green")       
        .style("stroke-dasharray",(3,3));
 
 //pathet nem
	svg.append("line")
        .attr("x1", function(){return x(7)-10})
        .attr("y1", function(){return y(0)})
        .attr("x2", function(){return x(7)-10})
        .attr("y2", function(){return y(11)})
        .attr("class","label-line")
        .attr("stroke-width", 2)
        .attr("stroke", "green")       
        .style("stroke-dasharray",(3,3));
 
     svg.append("text")
       
       .attr("y", function(){return x(5)-30})
       .attr("x", - (height / 2))
       .attr("dy", "1em")
       .style("text-anchor", "middle")
       .text("nem neman");

});

sigma.classes.graph.addMethod('neighbors', function(nodeId) {
       var k,
           neighbors = {},
           index = this.allNeighborsIndex[nodeId] || {};

       for (k in index)
         neighbors[k] = this.nodesIndex[k];

       return neighbors;
     });

      sigma.parsers.gexf(
        'networkData/networkGraphs/Bandung_Nagasewu.gexf',
        { // Here is the ID of the DOM element that
          // will contain the graph:
          container: 'sigma-container',
          settings: {
          minNodeSize: 2,
          maxNodeSize: 10
		  }
        

        },
        function(s) {
          // This function will be executed when the
          // graph is displayed, with "s" the related
          // sigma instance.
          s.graph.nodes().forEach(function(n) {
            n.originalColor = n.color;
            n.originalLabel = n.label;
          });
          s.graph.edges().forEach(function(e) {
            e.originalColor = e.color;
          });

          // When a node is clicked, we check for each node
          // if it is a neighbor of the clicked one. If not,
          // we set its color as grey, and else, it takes its
          // original color.
          // We do the same for the edges, and we only keep
          // edges that have both extremities colored.
          //s.bind('clickNode', function(e) {
          adegan = function(costars){  
            
                toKeep = costars;
                
            s.graph.nodes().forEach(function(n) {
              
              if (toKeep.includes(n.id)){
                n.color = n.originalColor;
                n.label = n.originalLabel;
              }
              else{
                n.color = '#eee';
                n.label = "";
                
              }
            });

            s.graph.edges().forEach(function(e) {
             
			  if (toKeep.includes(e.source) && toKeep.includes(e.target)){	  
                e.color = e.originalColor;
                //explanation += JSON.stringify(e);
                //explanation += e.source;
              }
              else{
                e.color = '#eee';
              }
              //if (toKeep[e.source] && toKeep[e.target])
            });



            // Since the data has been modified, we need to
            // call the refresh method to make the colors
            // update effective.
            s.refresh();
          //});
		}
          // When the stage is clicked, we just color each
          // node and edge with its original color.
          s.bind('clickStage', function(e) {
            s.graph.nodes().forEach(function(n) {
              n.color = n.originalColor;
              n.label = n.originalLabel;
            });

            s.graph.edges().forEach(function(e) {
              e.color = e.originalColor;
            });

            // Same as in the previous event:
            s.refresh();
          });
        }
      );


    </script>

</body>

</html>
