<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
<style>
		path { 
    stroke: steelblue;
    stroke-width: 2;
    fill: none;
}

.axis path,
.axis line {
    fill: none;
    stroke: grey;
    stroke-width: 1;
    shape-rendering: crispEdges;
}

.joint:hover{
	cursor:pointer
}

#sigma-container{
          top:0px;
          left:0px;
          width:50%;
          position:relative;
          height:300px;
          box-shadow: 1px 1px 5px #999;
        }
		</style>
    <title>
		
Gatotkaca_Lahir</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/shop-item.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="../css/jquery.dataTables.min.css"></link>

    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../index.html">Quantitative Wayang Dictionary</a>
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="#">About</a>
                    </li>
                    
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">

        <div class="row">

            <div class="col-md-3">
                <p class="lead">Quantiative Wayang Dictionary</p>
                <!--img src="../img/logo.jpg"></img-->
                <div class="list-group">
                    <a href="../characters.html" class="list-group-item">Characters</a>
                    <a href="../lakons.html" class="list-group-item">Lakons</a>
                    <a href="../networks.html" class="list-group-item">Networks</a>
                </div>
            </div>

            <div class="col-md-9">

                <div>
<h1>Gatotkaca_Lahir</h1><div class="well" id="characters"><p>This lakon has 25 characters:  <a href='../characterPages/Guru.html'>Guru</a>, <a href='../characterPages/Gareng.html'>Gareng</a>, <a href='../characterPages/Karna.html'>Karna</a>, <a href='../characterPages/Bagong.html'>Bagong</a>, <a href='../characterPages/Panyarikan.html'>Panyarikan</a>, <a href='../characterPages/Surya.html'>Surya</a>, <a href='../characterPages/Angganjali.html'>Angganjali</a>, <a href='../characterPages/Sadewa.html'>Sadewa</a>, <a href='../characterPages/Durga.html'>Durga</a>, <a href='../characterPages/Semar.html'>Semar</a>, <a href='../characterPages/Arimbi.html'>Arimbi</a>, <a href='../characterPages/Arjuna.html'>Arjuna</a>, <a href='../characterPages/Werkudara.html'>Werkudara</a>, <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a>, <a href='../characterPages/Baladewa.html'>Baladewa</a>, <a href='../characterPages/Bendana.html'>Bendana</a>, <a href='../characterPages/Sekipu.html'>Sekipu</a>, <a href='../characterPages/Pracona.html'>Pracona</a>, <a href='../characterPages/Nakula.html'>Nakula</a>, <a href='../characterPages/Ramayadi.html'>Ramayadi</a>, <a href='../characterPages/Narada.html'>Narada</a>, <a href='../characterPages/Yudhistira.html'>Yudhistira</a>, <a href='../characterPages/Indra.html'>Indra</a>, <a href='../characterPages/Kresna.html'>Kresna</a>, <a href='../characterPages/Brahma.html'>Brahma</a>,</div><p class='adegan' id='adegan1'><b>1</b>. <span class='badge'> Kayangan</span> <b>JonggringSaloka</b>. <a href='../characterPages/Guru.html'>Guru</a>, <a href='../characterPages/Narada.html'>Narada</a>, <a href='../characterPages/Indra.html'>Indra</a>, and <a href='../characterPages/Panyarikan.html'>Panyarikan</a> discuss an attack against the heavens. Kala <a href='../characterPages/Pracona.html'>Pracona</a>, king of Pagerwaja has sent his Patih, <a href='../characterPages/Sekipu.html'>Sekipu</a>, and his  troops are stationed at the Repat Kapanasan. <a href='../characterPages/Guru.html'>Guru</a> gives an order to <a href='../characterPages/Narada.html'>Narada</a> to prepare the Gods for chasing the invaders away.<p class='adegan' id='adegan2'><b>2</b>. <span class='badge'> Kedaton</span> <b>KarangKawidadaren</b> <a href='../characterPages/Durga.html'>Durga</a>, while still in her shape as Uma, receives Batara <a href='../characterPages/Guru.html'>Guru</a>. They have a feast proper of the Gods, such as  Jambu Dipanirmala dan Mangga Pertanggajiwa. Guru meditates and asks God for someone to defeat the army of ogres.<p class='adegan' id='adegan3'><b>3</b>. <span class='badge'> Kayangan</span> <b>JonggringSaloka</b>. Batara <a href='../characterPages/Narada.html'>Narada</a> calls the {Nine Gods}. <a href='../characterPages/Guru.html'>Guru</a> and the Gods wear their warrior outfits and prepare their weapons to chase <a href='../characterPages/Sekipu.html'>Sekipu</a> away.<p class='adegan' id='adegan4'><b>4</b>. <span class='badge'> Alun-alun</span> <b>Repatkepanasan</b>, which is like the alun-alun for the Gods. There is a line of <a href='../characterPages/RotadenawaPagerwaja.html'>RotadenawaPagerwaja</a>, led by Patih <a href='../characterPages/Sekipu.html'>Sekipu</a>. The <a href='../characterPages/Durandara.html'>Durandara</a>, the army of the Gods, led by <a href='../characterPages/Narada.html'>Narada</a> arrive and a fight ensues. <a href='../characterPages/Brahma.html'>Brahma</a> uses his fire weapon but he cannot defeat <a href='../characterPages/Sekipu.html'>Sekipu</a>. The Gods run in defeat and close the gates of the heavens. <a href='../characterPages/Narada.html'>Narada</a> faces <a href='../characterPages/Guru.html'>Guru</a> and reports the failed mission to him. <a href='../characterPages/Guru.html'>Guru</a> says that the invaders will be killed by a baby that has just been born, who is the son of <a href='../characterPages/Werkudara.html'>Werkudara</a>. The baby is a month old but his umbilical cord cannot be cut. <a href='../characterPages/Narada.html'>Narada</a> orders the Kunta weapon to be brought to him and for the baby to be brought to heaven once the umbilical cord is cut.<p class='adegan' id='adegan5'><b>5</b>. <span class='badge'> Forest</span> <b>Unnamed</b><a href='../characterPages/Karna.html'>Karna</a> wants to increase his power by obtaining a special weapon from the Gods. For his he meditates intently and calls Batara <a href='../characterPages/Surya.html'>Surya</a> arrives. <a href='../characterPages/Surya.html'>Surya</a> arrives and explains that the Kuntawijayandanu will soon be given by the Gods to a human. This weapon is immensely useful in the battlefield. Surya orders to <a href='../characterPages/Karna.html'>Karna</a> to meet <a href='../characterPages/Narada.html'>Narada</a> and pretend to be <a href='../characterPages/Arjuna.html'>Arjuna</a>. <a href='../characterPages/Surya.html'>Surya</a> will then help his son by bliding <a href='../characterPages/Narada.html'>Narada</a> so that he cannot clearly see who he is giving the weapon to.<p class='adegan' id='adegan6'><b>6</b>. <span class='badge'> Forest</span> <b>Unnamed</b>. <a href='../characterPages/Arjuna.html'>Arjuna</a> has been sent by <a href='../characterPages/Werkudara.html'>Werkudara</a> to request a weapon from the Gods to cut the umbilical chord of Jabang Tetuka. It is midday and <a href='../characterPages/Arjuna.html'>Arjuna</a>, <a href='../characterPages/Semar.html'>Semar</a>, <a href='../characterPages/Bagong.html'>Bagong</a> and <a href='../characterPages/Gareng.html'>Gareng</a> take a rest from the hot weather, and lie against a tree. They are surprised by a <a href='../characterPages/WadyaPagerwaja.html'>WadyaPagerwaja</a>. A fight ensues and the ogres are no match for <a href='../characterPages/Arjuna.html'>Arjuna</a>, who kills them and carries on with his journey.<p class='adegan' id='adegan7'><b>7</b>. <span class='badge'> Forest</span> <b>Unnamed</b>.<a href='../characterPages/Narada.html'>Narada</a> has descended from the Kayangan Jonggringsalaka, caring the Kunta Wijaya Ndanu, with the hope of giving it over to <a href='../characterPages/Arjuna.html'>Arjuna</a>. But in the middle of the road he is interrupted by a handsome warrior who resembles <a href='../characterPages/Arjuna.html'>Arjuna</a>. <a href='../characterPages/Narada.html'>Narada</a> gives over the weapon to this warrior, who is <a href='../characterPages/Karna.html'>Karna</a>. <a href='../characterPages/Narada.html'>Narada</a> realizes his mistake but it's too late. He asks for the weapon to be given back but this does not happen. Then <a href='../characterPages/Narada.html'>Narada</a> carries on his way in search of <a href='../characterPages/Arjuna.html'>Arjuna</a>. When they meet, <a href='../characterPages/Narada.html'>Narada</a> explains to <a href='../characterPages/Arjuna.html'>Arjuna</a> that which happened. <a href='../characterPages/Arjuna.html'>Arjuna</a> sets off in pursuit of <a href='../characterPages/Karna.html'>Karna</a>. Due to his extraordinary strength <a href='../characterPages/Arjuna.html'>Arjuna</a> is able to catch up with <a href='../characterPages/Karna.html'>Karna</a> quickly and tries to wrestle the sword from him, but only gets the scabbard, whereas Karna gets to keep the blade. Arjuna is disappointed but <a href='../characterPages/Narada.html'>Narada</a> manages to calm him down, saying that this was probably meant to be and that the scabbard, called Kastuba Manik, can still be used to cut the umbilical cord. <a href='../characterPages/Arjuna.html'>Arjuna</a> and <a href='../characterPages/Narada.html'>Narada</a> depart for Pringgandani.<p class='adegan' id='adegan8'><b>8</b>. <span class='badge'> Court</span> <b>Pringgandani</b>. <a href='../characterPages/Werkudara.html'>Werkudara</a>, <a href='../characterPages/Nakula.html'>Nakula</a>, <a href='../characterPages/Sadewa.html'>Sadewa</a>, <a href='../characterPages/Yudhistira.html'>Yudhistira</a> and <a href='../characterPages/Kresna.html'>Kresna</a> are concerned about <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a>, who was still called Tetuka at the time, and whose umbilical cord has yet to be cut. Then <a href='../characterPages/Narada.html'>Narada</a> and <a href='../characterPages/Arjuna.html'>Arjuna</a> arrive. The sword's scabbard cuts through the baby's umbilical cord but enters into his body. When the baby grows up, the sword of the Kunta Wijaya Ndanu will be able to kill him. Then the Pandawa brothers, <a href='../characterPages/Kresna.html'>Kresna</a> and <a href='../characterPages/Baladewa.html'>Baladewa</a> try to fight <a href='../characterPages/Sekipu.html'>Sekipu</a> in Joggringsalaka but fail to do so. <a href='../characterPages/Sekipu.html'>Sekipu</a> injures them with  poisoned arrows.<p class='adegan' id='adegan9'><b>9</b>. <span class='badge'> Court</span> <b>Pringgandani</b>. <a href='../characterPages/Narada.html'>Narada</a> returns to Pringggandani and brings <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a> to the heavens, while <a href='../characterPages/Arimbi.html'>Arimbi</a> is in the bathroom. She notices the loss and complains to Kala <a href='../characterPages/Bendana.html'>Bendana</a>. Then he follows to heaven. <a href='../characterPages/Guru.html'>Guru</a> orders Empu <a href='../characterPages/Angganjali.html'>Angganjali</a> and Empu <a href='../characterPages/Ramayadi.html'>Ramayadi</a> to place <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a> in the Candradimuka crater so he can become a strong young man and loose all traits of an ogre. He is given the name of <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a> or Gurudaya. <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a> is able to kill the attackers of heaven and heal <a href='../characterPages/Baladewa.html'>Baladewa</a>, who was injured by <a href='../characterPages/Sekipu.html'>Sekipu</a>'s poisoned arrows. Kala <a href='../characterPages/Pracona.html'>Pracona</a> dies by <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a>'s hand. A feasts is offered at heaven and Gatotkaca receives gifts from the Gods.</div>

<div class="row">
		
	
    <div class="col-lg-6" >gato</div>           
	<div class="col-lg-6" >paato</div>
	</div>

	<div class="row">
		
	
    <div class="col-lg-6" id="graphspace"></div>           
	<div class="col-lg-6" id="sigma-container"></div>
	</div>
            </div>

        </div>



    </div>
    <!-- /.container -->

    <div class="container">

        <hr>

        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Copyright &copy; <a href="http://miguelescobar.com">Miguel Escobar Varela</a> and Andy Schauf 2017</p>
                </div>
            </div>
        </footer>

    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="../js/jquery.js"></script>
	<script src="http://d3js.org/d3.v3.min.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="../js/bootstrap.min.js"></script>
    <script src="../sigma/sigma.js"></script>
    <script src="../sigma/plugins/sigma.parsers.gexf.min.js"></script>
    <script>
    
    // Set the dimensions of the canvas / graph
var margin = {top: 30, right: 20, bottom: 60, left: 50},
    width = 400 - margin.left - margin.right,
    height = 300 - margin.top - margin.bottom;

// Parse the date / time
var parseDate = d3.time.format("%d-%b-%y").parse;

// Set the ranges
var x = d3.scale.linear().range([0, width]);
var y = d3.scale.linear().range([height, 0]);

// Define the axes
var xAxis = d3.svg.axis().scale(x)
    .orient("bottom").ticks(5);

var yAxis = d3.svg.axis().scale(y)
    .orient("left").ticks(5);

var cn = 0;
// Define the line
var valueline = d3.svg.line()
    .x(function(d) {
      cn+=1;
      return x(cn);
    })
    .y(function(d) { return y(d.characters); });

// Adds the svg canvas
var svg = d3.select("#graphspace")
    .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
    .append("g")
        .attr("transform", 
              "translate(" + margin.left + "," + margin.top + ")");

// Get the data

namesArray = [];

d3.csv("data/Gatotkaca_Lahir.csv", function(error, data) {
	var counter = 0
    data.forEach(function(d) {
        d.characters = +d.characters;
        namesArray.push(d.names);
        counter +=1;
    });

    // Scale the range of the data
    x.domain([0,counter]);
    y.domain([0, d3.max(data, function(d) { return d.characters; })]);

    // Add the valueline path.
    svg.append("path")
        .attr("class", "line")
        .attr("d", valueline(data));

// Dots
	var counter = -1;
	var counter2 = 0;
	svg.selectAll("dot")
      .data(data)
      .enter().append("circle")
        .attr("r", 6)
        .attr("id", function(d) {
          counter += 1;
          return "adeganCircle" + counter;
          
        })
        .attr("class","joint")
        .on('mouseover',function(d,i){
          /*videoTime =  parseInt(this.id.split("gato")[1])/100;
          var currentAngle = y.invert(d3.mouse(this)[1]);
          console.log(currentAngle);
          goDance(videoTime);
          rotate(currentAngle);*/
          var adeganNumber = this.id.replace("adeganCircle","");
          
          $(".joint").css("fill","black");
          $(this).css("fill","blue");
          $(".adegan").css("background","white");
          console.log("#adegan" + parseInt(adeganNumber) + 1);
          $("#adegan" + (parseInt(adeganNumber) + 1)).css("background"," #e6ecff");
          currentCharacters = namesArray[adeganNumber].split("&");
          adegan(currentCharacters);
        })
        
        .attr("cy", function(d) { return y(d.characters); })
        .attr("cx", function(d) {
          counter2 += 1;
          return x(counter2);
        });

    // Add the X Axis
    svg.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(0," + height + ")")
        .call(xAxis);

    // Add the Y Axis
    svg.append("g")
        .attr("class", "y axis")
        .call(yAxis);

	svg.append("text")      // text label for the x axis
        .attr("x", width / 2 )
        .attr("y",  height - 15+ margin.bottom)
        .style("text-anchor", "middle")
        .text("Scene number");

	svg.append("text")
       .attr("transform", "rotate(-90)")
       .attr("y", 0 - margin.left)
       .attr("x",0 - (height / 2))
       .attr("dy", "1em")
       .style("text-anchor", "middle")
       .text("Number of characters");

});

sigma.classes.graph.addMethod('neighbors', function(nodeId) {
       var k,
           neighbors = {},
           index = this.allNeighborsIndex[nodeId] || {};

       for (k in index)
         neighbors[k] = this.nodesIndex[k];

       return neighbors;
     });

      sigma.parsers.gexf(
        'networkData/networkGraphs/Babad_Wanamarta.gexf',
        { // Here is the ID of the DOM element that
          // will contain the graph:
          container: 'sigma-container',
          settings: {
          minNodeSize: 2,
          maxNodeSize: 10
		  }
        

        },
        function(s) {
          // This function will be executed when the
          // graph is displayed, with "s" the related
          // sigma instance.
          s.graph.nodes().forEach(function(n) {
            n.originalColor = n.color;
            n.originalLabel = n.label;
          });
          s.graph.edges().forEach(function(e) {
            e.originalColor = e.color;
          });

          // When a node is clicked, we check for each node
          // if it is a neighbor of the clicked one. If not,
          // we set its color as grey, and else, it takes its
          // original color.
          // We do the same for the edges, and we only keep
          // edges that have both extremities colored.
          //s.bind('clickNode', function(e) {
          adegan = function(costars){  
            
                toKeep = costars;
                
            s.graph.nodes().forEach(function(n) {
              
              if (toKeep.includes(n.id)){
                n.color = n.originalColor;
                n.label = n.originalLabel;
              }
              else{
                n.color = '#eee';
                n.label = "";
                
              }
            });

            s.graph.edges().forEach(function(e) {
             
			  if (toKeep.includes(e.source) && toKeep.includes(e.target)){	  
                e.color = e.originalColor;
                //explanation += JSON.stringify(e);
                //explanation += e.source;
              }
              else{
                e.color = '#eee';
              }
              //if (toKeep[e.source] && toKeep[e.target])
            });



            // Since the data has been modified, we need to
            // call the refresh method to make the colors
            // update effective.
            s.refresh();
          //});
		}
          // When the stage is clicked, we just color each
          // node and edge with its original color.
          s.bind('clickStage', function(e) {
            s.graph.nodes().forEach(function(n) {
              n.color = n.originalColor;
              n.label = n.originalLabel;
            });

            s.graph.edges().forEach(function(e) {
              e.color = e.originalColor;
            });

            // Same as in the previous event:
            s.refresh();
          });
        }
      );


    </script>

</body>

</html>
