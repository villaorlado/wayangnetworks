<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
<style>
		path { 
    stroke: steelblue;
    stroke-width: 2;
    fill: none;
}

.axis path,
.axis line {
    fill: none;
    stroke: grey;
    stroke-width: 1;
    shape-rendering: crispEdges;
}

.joint:hover{
	cursor:pointer
}

#sigma-container{
          top:0px;
          left:0px;
          width:50%;
          position:relative;
          height:300px;
          box-shadow: 1px 1px 5px #999;
        }
		</style>
    <title>
		
Wahyu_Kembar</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/shop-item.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="../css/jquery.dataTables.min.css"></link>

    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../index.html">Quantitative Wayang Dictionary</a>
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="#">About</a>
                    </li>
                    
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">

        <div class="row">

            <div class="col-md-3">
                <p class="lead">Quantiative Wayang Dictionary</p>
                <!--img src="../img/logo.jpg"></img-->
                <div class="list-group">
                    <a href="../characters.html" class="list-group-item">Characters</a>
                    <a href="../lakons.html" class="list-group-item">Lakons</a>
                    <a href="../networks.html" class="list-group-item">Networks</a>
                </div>
            </div>

            <div class="col-md-9">

                <div>
<h1>Wahyu_Kembar</h1><div class="well" id="characters"><p>This lakon has 29 characters:  <a href='../characterPages/Dewasrani.html'>Dewasrani</a>, <a href='../characterPages/Guru.html'>Guru</a>, <a href='../characterPages/Gareng.html'>Gareng</a>, <a href='../characterPages/Durna.html'>Durna</a>, <a href='../characterPages/Karna.html'>Karna</a>, <a href='../characterPages/Bagong.html'>Bagong</a>, <a href='../characterPages/Parasara.html'>Parasara</a>, <a href='../characterPages/Banowati.html'>Banowati</a>, <a href='../characterPages/Sadewa.html'>Sadewa</a>, <a href='../characterPages/Durga.html'>Durga</a>, <a href='../characterPages/Sengkuni.html'>Sengkuni</a>, <a href='../characterPages/Antareja.html'>Antareja</a>, <a href='../characterPages/Semar.html'>Semar</a>, <a href='../characterPages/Arjuna.html'>Arjuna</a>, <a href='../characterPages/Wisanggeni.html'>Wisanggeni</a>, <a href='../characterPages/Werkudara.html'>Werkudara</a>, <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a>, <a href='../characterPages/Pulungsari.html'>Pulungsari</a>, <a href='../characterPages/Petruk.html'>Petruk</a>, <a href='../characterPages/Bendana.html'>Bendana</a>, <a href='../characterPages/Pulunggana.html'>Pulunggana</a>, <a href='../characterPages/Duryudana.html'>Duryudana</a>, <a href='../characterPages/Nakula.html'>Nakula</a>, <a href='../characterPages/Narada.html'>Narada</a>, <a href='../characterPages/Kartamarma.html'>Kartamarma</a>, <a href='../characterPages/Indra.html'>Indra</a>, <a href='../characterPages/Puntadewa.html'>Puntadewa</a>, <a href='../characterPages/Kresna.html'>Kresna</a>, <a href='../characterPages/Abimanyu.html'>Abimanyu</a>,</div><p class='adegan' id='adegan1'><b>1</b>. <span class='badge'> Court</span> <b>Astina</b>. Prabu <a href='../characterPages/Duryudana.html'>Duryudana</a> receives <a href='../characterPages/Durna.html'>Durna</a>, <a href='../characterPages/Karna.html'>Karna</a>, <a href='../characterPages/Sengkuni.html'>Sengkuni</a> and <a href='../characterPages/Kartamarma.html'>Kartamarma</a>. <a href='../characterPages/Duryudana.html'>Duryudana</a> wants to decrease the strength of the Pandawa, so <a href='../characterPages/Duryudana.html'>Duryudana</a> sends <a href='../characterPages/Karna.html'>Karna</a> to try and kill <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a>, together with the <a href='../characterPages/Korawa.html'>Korawa</a> who are lead by Patih <a href='../characterPages/Sengkuni.html'>Sengkuni</a>.<p class='adegan' id='adegan2'><b>2</b>. <span class='badge'> Kedaton</span> <b>Astina</b>. <a href='../characterPages/Banowati.html'>Banowati</a> receives the king. After eating <a href='../characterPages/Duryudana.html'>Duryudana</a> tells her he wants to try to kill <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a>. In reality <a href='../characterPages/Banowati.html'>Banowati</a> doesn't agree with <a href='../characterPages/Duryudana.html'>Duryudana</a>'s desire. However she is just quiet. Then  the king goes into his meditation space and asks the Gods to favor his plans.<p class='adegan' id='adegan3'><b>3</b>. <span class='badge'> Alun-alun</span> <b>Astina</b>. <a href='../characterPages/Sengkuni.html'>Sengkuni</a> inspires the <a href='../characterPages/Korawa.html'>Korawa</a> and communicates the desires of the king who wants them to go with <a href='../characterPages/Karna.html'>Karna</a> to Pringgandani. They get ready and leave.<p class='adegan' id='adegan4'><b>4</b>. <span class='badge'> Court</span> <b>Pringgandani</b>. <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a> and his uncle Kala <a href='../characterPages/Bendana.html'>Bendana</a> receive <a href='../characterPages/Wisanggeni.html'>Wisanggeni</a> and <a href='../characterPages/Antareja.html'>Antareja</a>. After exchanging greetings. <a href='../characterPages/Wisanggeni.html'>Wisanggeni</a> says that the <a href='../characterPages/Korawa.html'>Korawa</a> are planning <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a>'s death, but the Gods will give him the Wahyu Jayaningrat and Chayaningrat called Wahyu Ratu and Wahyu Senopati. In order to receive them, <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a> leaves to mediate and takes <a href='../characterPages/Abimanyu.html'>Abimanyu</a> with him. Pringgandani will be looked after by <a href='../characterPages/Wisanggeni.html'>Wisanggeni</a>, <a href='../characterPages/Antareja.html'>Antareja</a> and Kala <a href='../characterPages/Bendana.html'>Bendana</a>. <a href='../characterPages/Wisanggeni.html'>Wisanggeni</a> disguises <a href='../characterPages/Bendana.html'>Bendana</a> as <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a>. They exit to await the arrival of <a href='../characterPages/Karna.html'>Karna</a> and the <a href='../characterPages/Korawa.html'>Korawa</a>.<p class='adegan' id='adegan5'><b>5</b>. <span class='badge'> Court</span> <b>Pringgandani</b> The <a href='../characterPages/Korawa.html'>Korawa</a> arrive and are greeted by <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a>. <a href='../characterPages/Wisanggeni.html'>Wisanggeni</a> also fuses his soul with <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a>. The Korawa are unable to defeat him and flee in all directions. Even <a href='../characterPages/Karna.html'>Karna</a> is unable to match the strength of <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a>.<p class='adegan' id='adegan6'><b>6</b>. <span class='badge'> Forest</span> <b>Tunggul</b>. <a href='../characterPages/Abimanyu.html'>Abimanyu</a>, <a href='../characterPages/Semar.html'>Semar</a>, <a href='../characterPages/Bagong.html'>Bagong</a>, <a href='../characterPages/Gareng.html'>Gareng</a> and <a href='../characterPages/Petruk.html'>Petruk</a> are roaming the forest and meditating. They take a break by a tree when a <a href='../characterPages/_Lion.html'>_Lion</a> suddenly arrives and attacks <a href='../characterPages/Abimanyu.html'>Abimanyu</a>. <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a> is able to see this from up in the sky and hits the <a href='../characterPages/_Lion.html'>_Lion</a> with an arrow, rescuing <a href='../characterPages/Abimanyu.html'>Abimanyu</a>. The <a href='../characterPages/_Lion.html'>_Lion</a> reveals his true shape to be batara <a href='../characterPages/Parasara.html'>Parasara</a>, who explains that the Gods were planning to bestow some sacred gifts upon them. <a href='../characterPages/Abimanyu.html'>Abimanyu</a> and <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a> are ordered to mediate by the sides of the Jwamurdwipa mountain.They then depart for this mission.<p class='adegan' id='adegan7'><b>7</b>. <span class='badge'> Kayangan</span> <b>JonggringSaloka</b>. <a href='../characterPages/Guru.html'>Guru</a>, <a href='../characterPages/Narada.html'>Narada</a> and <a href='../characterPages/Indra.html'>Indra</a> talk to <a href='../characterPages/Pulunggana.html'>Pulunggana</a> and <a href='../characterPages/Pulungsari.html'>Pulungsari</a>, who are the designated custodians of the Wahyu Senopati and Wahyu Ratu. The king of the Gods tell them that time has come for them both to enter the body of the chosen warriors. They listen to this and then take leave from the Gods.<p class='adegan' id='adegan8'><b>8</b>. <span class='badge'> Sky</span> <b>Unnamed</b>. <a href='../characterPages/Durga.html'>Durga</a> and <a href='../characterPages/Dewasrani.html'>Dewasrani</a> try to capture <a href='../characterPages/Pulunggana.html'>Pulunggana</a> and <a href='../characterPages/Pulungsari.html'>Pulungsari</a> but the latter are too fast to be stopped and are able to continue their journey.<p class='adegan' id='adegan9'><b>9</b>. <span class='badge'> Mountain</span> <b>JamurDwipa</b>. <a href='../characterPages/Abimanyu.html'>Abimanyu</a> and <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a> carry out their meditation hoping that the Gods will allow the divine gifts to enter their bodies. The carriers of the Wahyu -  <a href='../characterPages/Pulunggana.html'>Pulunggana</a> and <a href='../characterPages/Pulungsari.html'>Pulungsari</a> – enter the bodies of <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a> and <a href='../characterPages/Abimanyu.html'>Abimanyu</a>. <a href='../characterPages/Durga.html'>Durga</a> disguises herself as a beautiful <a href='../characterPages/_Woman.html'>_Woman</a> and tries to tempt the young warriors, but they resist the temptation. The warriors continue with their journey, bringing <a href='../characterPages/Semar.html'>Semar</a> with them.<p class='adegan' id='adegan10'><b>10</b>. <span class='badge'> Court</span> <b>Amarta</b>. <a href='../characterPages/Puntadewa.html'>Puntadewa</a> faces <a href='../characterPages/Arjuna.html'>Arjuna</a>, <a href='../characterPages/Werkudara.html'>Werkudara</a>, <a href='../characterPages/Nakula.html'>Nakula</a> and <a href='../characterPages/Sadewa.html'>Sadewa</a>. They are worried about <a href='../characterPages/Abimanyu.html'>Abimanyu</a> and <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a>. <a href='../characterPages/Antareja.html'>Antareja</a> is afraid of the situation at Astina and the looming possibility of war. The Pandawa run away before <a href='../characterPages/Sengkuni.html'>Sengkuni</a> arrives to meet them and ask for their help.<p class='adegan' id='adegan11'><b>11</b>. <span class='badge'> Court</span> <b>Dwarawati</b>. The kingdom is attacked by enemies that can change their shapes, depending on who sees them. <a href='../characterPages/Kresna.html'>Kresna</a> leaves the kingdom in search of help.<p class='adegan' id='adegan12'><b>12</b>. <span class='badge'> Road</span> <b>Unnamed</b> Those who just received the Wahyu – <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a> and <a href='../characterPages/Abimanyu.html'>Abimanyu</a> – meet their elders in the middle of the road. <a href='../characterPages/Kresna.html'>Kresna</a> explains the situation to them. <a href='../characterPages/Gatotkaca.html'>Gatotkaca</a> and <a href='../characterPages/Abimanyu.html'>Abimanyu</a> retake Amarta and Dwarawati. The Wahyu will help them defeat the <a href='../characterPages/Korawa.html'>Korawa</a> one day. They share a feast with their elders -  <a href='../characterPages/Puntadewa.html'>Puntadewa</a>, <a href='../characterPages/Arjuna.html'>Arjuna</a>, <a href='../characterPages/Werkudara.html'>Werkudara</a>, <a href='../characterPages/Nakula.html'>Nakula</a> and <a href='../characterPages/Sadewa.html'>Sadewa</a> – and experience indescribable happiness.</div>

<div class="row">
		
	
    <div class="col-lg-6" >gato</div>           
	<div class="col-lg-6" >paato</div>
	</div>

	<div class="row">
		
	
    <div class="col-lg-6" id="graphspace"></div>           
	<div class="col-lg-6" id="sigma-container"></div>
	</div>
            </div>

        </div>



    </div>
    <!-- /.container -->

    <div class="container">

        <hr>

        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Copyright &copy; <a href="http://miguelescobar.com">Miguel Escobar Varela</a> and Andy Schauf 2017</p>
                </div>
            </div>
        </footer>

    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="../js/jquery.js"></script>
	<script src="http://d3js.org/d3.v3.min.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="../js/bootstrap.min.js"></script>
    <script src="../sigma/sigma.js"></script>
    <script src="../sigma/plugins/sigma.parsers.gexf.min.js"></script>
    <script>
    
    // Set the dimensions of the canvas / graph
var margin = {top: 30, right: 20, bottom: 60, left: 50},
    width = 400 - margin.left - margin.right,
    height = 300 - margin.top - margin.bottom;

// Parse the date / time
var parseDate = d3.time.format("%d-%b-%y").parse;

// Set the ranges
var x = d3.scale.linear().range([0, width]);
var y = d3.scale.linear().range([height, 0]);

// Define the axes
var xAxis = d3.svg.axis().scale(x)
    .orient("bottom").ticks(5);

var yAxis = d3.svg.axis().scale(y)
    .orient("left").ticks(5);

var cn = 0;
// Define the line
var valueline = d3.svg.line()
    .x(function(d) {
      cn+=1;
      return x(cn);
    })
    .y(function(d) { return y(d.characters); });

// Adds the svg canvas
var svg = d3.select("#graphspace")
    .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
    .append("g")
        .attr("transform", 
              "translate(" + margin.left + "," + margin.top + ")");

// Get the data

namesArray = [];

d3.csv("data/Wahyu_Kembar.csv", function(error, data) {
	var counter = 0
    data.forEach(function(d) {
        d.characters = +d.characters;
        namesArray.push(d.names);
        counter +=1;
    });

    // Scale the range of the data
    x.domain([0,counter]);
    y.domain([0, d3.max(data, function(d) { return d.characters; })]);

    // Add the valueline path.
    svg.append("path")
        .attr("class", "line")
        .attr("d", valueline(data));

// Dots
	var counter = -1;
	var counter2 = 0;
	svg.selectAll("dot")
      .data(data)
      .enter().append("circle")
        .attr("r", 6)
        .attr("id", function(d) {
          counter += 1;
          return "adeganCircle" + counter;
          
        })
        .attr("class","joint")
        .on('mouseover',function(d,i){
          /*videoTime =  parseInt(this.id.split("gato")[1])/100;
          var currentAngle = y.invert(d3.mouse(this)[1]);
          console.log(currentAngle);
          goDance(videoTime);
          rotate(currentAngle);*/
          var adeganNumber = this.id.replace("adeganCircle","");
          
          $(".joint").css("fill","black");
          $(this).css("fill","blue");
          $(".adegan").css("background","white");
          console.log("#adegan" + parseInt(adeganNumber) + 1);
          $("#adegan" + (parseInt(adeganNumber) + 1)).css("background"," #e6ecff");
          currentCharacters = namesArray[adeganNumber].split("&");
          adegan(currentCharacters);
        })
        
        .attr("cy", function(d) { return y(d.characters); })
        .attr("cx", function(d) {
          counter2 += 1;
          return x(counter2);
        });

    // Add the X Axis
    svg.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(0," + height + ")")
        .call(xAxis);

    // Add the Y Axis
    svg.append("g")
        .attr("class", "y axis")
        .call(yAxis);

	svg.append("text")      // text label for the x axis
        .attr("x", width / 2 )
        .attr("y",  height - 15+ margin.bottom)
        .style("text-anchor", "middle")
        .text("Scene number");

	svg.append("text")
       .attr("transform", "rotate(-90)")
       .attr("y", 0 - margin.left)
       .attr("x",0 - (height / 2))
       .attr("dy", "1em")
       .style("text-anchor", "middle")
       .text("Number of characters");

});

sigma.classes.graph.addMethod('neighbors', function(nodeId) {
       var k,
           neighbors = {},
           index = this.allNeighborsIndex[nodeId] || {};

       for (k in index)
         neighbors[k] = this.nodesIndex[k];

       return neighbors;
     });

      sigma.parsers.gexf(
        'networkData/networkGraphs/Babad_Wanamarta.gexf',
        { // Here is the ID of the DOM element that
          // will contain the graph:
          container: 'sigma-container',
          settings: {
          minNodeSize: 2,
          maxNodeSize: 10
		  }
        

        },
        function(s) {
          // This function will be executed when the
          // graph is displayed, with "s" the related
          // sigma instance.
          s.graph.nodes().forEach(function(n) {
            n.originalColor = n.color;
            n.originalLabel = n.label;
          });
          s.graph.edges().forEach(function(e) {
            e.originalColor = e.color;
          });

          // When a node is clicked, we check for each node
          // if it is a neighbor of the clicked one. If not,
          // we set its color as grey, and else, it takes its
          // original color.
          // We do the same for the edges, and we only keep
          // edges that have both extremities colored.
          //s.bind('clickNode', function(e) {
          adegan = function(costars){  
            
                toKeep = costars;
                
            s.graph.nodes().forEach(function(n) {
              
              if (toKeep.includes(n.id)){
                n.color = n.originalColor;
                n.label = n.originalLabel;
              }
              else{
                n.color = '#eee';
                n.label = "";
                
              }
            });

            s.graph.edges().forEach(function(e) {
             
			  if (toKeep.includes(e.source) && toKeep.includes(e.target)){	  
                e.color = e.originalColor;
                //explanation += JSON.stringify(e);
                //explanation += e.source;
              }
              else{
                e.color = '#eee';
              }
              //if (toKeep[e.source] && toKeep[e.target])
            });



            // Since the data has been modified, we need to
            // call the refresh method to make the colors
            // update effective.
            s.refresh();
          //});
		}
          // When the stage is clicked, we just color each
          // node and edge with its original color.
          s.bind('clickStage', function(e) {
            s.graph.nodes().forEach(function(n) {
              n.color = n.originalColor;
              n.label = n.originalLabel;
            });

            s.graph.edges().forEach(function(e) {
              e.color = e.originalColor;
            });

            // Same as in the previous event:
            s.refresh();
          });
        }
      );


    </script>

</body>

</html>
