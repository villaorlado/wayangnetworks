<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
<style>
		path { 
    stroke: steelblue;
    stroke-width: 2;
    fill: none;
}

.axis path,
.axis line {
    fill: none;
    stroke: grey;
    stroke-width: 1;
    shape-rendering: crispEdges;
}

.joint:hover{
	cursor:pointer
}

#sigma-container{
          top:0px;
          left:0px;
          width:50%;
          position:relative;
          height:300px;
          box-shadow: 1px 1px 5px #999;
        }
		</style>
    <title>
		
Kunthi_Pilih_(Lahiripun_Adipati_Karna)</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/shop-item.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="../css/jquery.dataTables.min.css"></link>

    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../index.html">Quantitative Wayang Dictionary</a>
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="#">About</a>
                    </li>
                    
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">

        <div class="row">

            <div class="col-md-3">
                <p class="lead">Quantiative Wayang Dictionary</p>
                <!--img src="../img/logo.jpg"></img-->
                <div class="list-group">
                    <a href="../characters.html" class="list-group-item">Characters</a>
                    <a href="../lakons.html" class="list-group-item">Lakons</a>
                    <a href="../networks.html" class="list-group-item">Networks</a>
                </div>
            </div>

            <div class="col-md-9">

                <div>
<h1>Kunthi_Pilih_(Lahiripun_Adipati_Karna)</h1><div class="well" id="characters"><p>This lakon has 24 characters:  <a href='../characterPages/Gareng.html'>Gareng</a>, <a href='../characterPages/Karna.html'>Karna</a>, <a href='../characterPages/Bagong.html'>Bagong</a>, <a href='../characterPages/Ugrasena.html'>Ugrasena</a>, <a href='../characterPages/Bismaka.html'>Bismaka</a>, <a href='../characterPages/Mandrakeswara.html'>Mandrakeswara</a>, <a href='../characterPages/Sengkuni.html'>Sengkuni</a>, <a href='../characterPages/Pujawati.html'>Pujawati</a>, <a href='../characterPages/Semar.html'>Semar</a>, <a href='../characterPages/Kunti.html'>Kunti</a>, <a href='../characterPages/Bagaspati.html'>Bagaspati</a>, <a href='../characterPages/Druwasa.html'>Druwasa</a>, <a href='../characterPages/Petruk.html'>Petruk</a>, <a href='../characterPages/Abiyasa.html'>Abiyasa</a>, <a href='../characterPages/Kuntiboja.html'>Kuntiboja</a>, <a href='../characterPages/Ngembat_Landeyan.html'>Ngembat_Landeyan</a>, <a href='../characterPages/Salya.html'>Salya</a>, <a href='../characterPages/Destarastra.html'>Destarastra</a>, <a href='../characterPages/Madrim.html'>Madrim</a>, <a href='../characterPages/Yamawidura.html'>Yamawidura</a>, <a href='../characterPages/Gendari.html'>Gendari</a>, <a href='../characterPages/Pandu.html'>Pandu</a>, <a href='../characterPages/Gendara.html'>Gendara</a>, <a href='../characterPages/Basudewa.html'>Basudewa</a>,</div><p class='adegan' id='adegan1'><b>1</b>. <span class='badge'> Court</span> <b>Mandura</b>. King <a href='../characterPages/Kuntiboja.html'>Kuntiboja</a> receives <a href='../characterPages/Basudewa.html'>Basudewa</a>, <a href='../characterPages/Bismaka.html'>Bismaka</a> and <a href='../characterPages/Ugrasena.html'>Ugrasena</a> and discusses with them the contest to find a husband for <a href='../characterPages/Kunti.html'>Kunti</a>. However, Kunti does not want to come out of her chambers. <a href='../characterPages/Kuntiboja.html'>Kuntiboja</a> and <a href='../characterPages/Basudewa.html'>Basudewa</a> go to meet her while <a href='../characterPages/Bismaka.html'>Bismaka</a> and <a href='../characterPages/Ugrasena.html'>Ugrasena</a> take care of the kingdom.<p class='adegan' id='adegan2'><b>2</b>. <span class='badge'> Kedaton</span> <b>Mandura</b>. <a href='../characterPages/Kunti.html'>Kunti</a> is pregnant, hiding inside her chambers when <a href='../characterPages/Kuntiboja.html'>Kuntiboja</a> and <a href='../characterPages/Basudewa.html'>Basudewa</a> arrive. They are surprised at her condition. <a href='../characterPages/Kuntiboja.html'>Kuntiboja</a> aks who dared make her pregnant, but <a href='../characterPages/Kunti.html'>Kunti</a> is silent. <a href='../characterPages/Basudewa.html'>Basudewa</a>'s sorrow increases to the point that he takes out his keris. But <a href='../characterPages/Druwasa.html'>Druwasa</a> arrives unexpectedly. He explains that <a href='../characterPages/Kunti.html'>Kunti</a> became pregnant after trying the Aji Kuntawekasing Tunggal, which cannot be refused. This aji summoned Batara <a href='../characterPages/Surya.html'>Surya</a> and led to her pregnancy out of wedlock, but without intercourse. The baby is born out of <a href='../characterPages/Kunti.html'>Kunti</a>'s ear. The baby emerges from fully clothed and is given the name <a href='../characterPages/Karna.html'>Karna</a>. The baby is thrown away to safeguard Mandura's good name. After Kunti's body is cleaned, the organization of the contest continues. Raden <a href='../characterPages/Basudewa.html'>Basudewa</a> and his army go about the preparations.<p class='adegan' id='adegan3'><b>3</b>. <span class='badge'> Sabrangan</span> <b>TratagBang</b>. The <a href='../characterPages/RatuSewuNagari.html'>RatuSewuNagari</a> want to enter the contest for Kunti's hand and make themselves ready.<p class='adegan' id='adegan4'><b>4</b>. <span class='badge'> Unnamed</span> <b>Unnamed</b> The Ratu <a href='../characterPages/Ngembat_Landeyan.html'>Ngembat_Landeyan</a> approaches the Mandura area before the contest starts. <a href='../characterPages/Ugrasena.html'>Ugrasena</a> discovers this and engages him in battle, but no clear winner emerges. Then they each part in their separate ways.<p class='adegan' id='adegan5'><b>5</b>. <span class='badge'> Court</span> <b>Mandaraka</b>. King <a href='../characterPages/Mandrakeswara.html'>Mandrakeswara</a> also known as Hartadriya receives his sons <a href='../characterPages/Salya.html'>Salya</a> and <a href='../characterPages/Madrim.html'>Madrim</a>. The son asks for permission to go on a journey. The king grants him permission and <a href='../characterPages/Salya.html'>Salya</a> is followed by <a href='../characterPages/Semar.html'>Semar</a>, <a href='../characterPages/Petruk.html'>Petruk</a>, <a href='../characterPages/Bagong.html'>Bagong</a> and <a href='../characterPages/Gareng.html'>Gareng</a>. <a href='../characterPages/Madrim.html'>Madrim</a> is not allowed joint them.<p class='adegan' id='adegan6'><b>6</b>. <span class='badge'> Pertapaan</span> <b>Argabelah</b>. Begawan <a href='../characterPages/Bagaspati.html'>Bagaspati</a> talks to his daughter <a href='../characterPages/Pujawati.html'>Pujawati</a>, who has dreamt of <a href='../characterPages/Salya.html'>Salya</a>, from the Mandraka kingdom, and asks her father for help. <a href='../characterPages/Bagaspati.html'>Bagaspati</a> accommodates her wishes and leaves to find <a href='../characterPages/Salya.html'>Salya</a>.<p class='adegan' id='adegan7'><b>7</b>. <span class='badge'> Forest</span> <b>Unnamed</b>. <a href='../characterPages/Salya.html'>Salya</a>, <a href='../characterPages/Semar.html'>Semar</a> <a href='../characterPages/Petruk.html'>Petruk</a> and <a href='../characterPages/Bagong.html'>Bagong</a> are in the forest. <a href='../characterPages/Salya.html'>Salya</a> is angry that he has been asked to quickly find a wife, so that he is married by the time he is crowned as king.<a href='../characterPages/Bagaspati.html'>Bagaspati</a> arrives and takes [Salya[ as to the Argabelah padepokan. <a href='../characterPages/Salya.html'>Salya</a> marries <a href='../characterPages/Pujawati.html'>Pujawati</a> but but kills <a href='../characterPages/Bagaspati.html'>Bagaspati</a> - he is ashamed of having a father in law who has the head of an ogre. <a href='../characterPages/Salya.html'>Salya</a> receives the Aji Candhabirawa.<p class='adegan' id='adegan8'><b>8</b>. <span class='badge'> Court</span> <b>Astina</b>. <a href='../characterPages/Abiyasa.html'>Abiyasa</a> receives his sons <a href='../characterPages/Destarastra.html'>Destarastra</a>, <a href='../characterPages/Pandu.html'>Pandu</a> and <a href='../characterPages/Yamawidura.html'>Yamawidura</a>. They discuss the contest in Mandura because time has come for the men to find wives. <a href='../characterPages/Pandu.html'>Pandu</a> wants to enter the contest and marry <a href='../characterPages/Kunti.html'>Kunti</a>. He departs for the contest.<p class='adegan' id='adegan9'><b>9</b>. <span class='badge'> Court</span> <b>Mandura</b>. <a href='../characterPages/Kunti.html'>Kunti</a> sits, flanked by her father and brother. Many kings and warriors want to marry she chooses <a href='../characterPages/Salya.html'>Salya</a>, to the disappointment of the other kings who attack <a href='../characterPages/Salya.html'>Salya</a>. <a href='../characterPages/Salya.html'>Salya</a> already possesses the Aji Candhabirawa and is able to defeat his enemies. After the contest, he takes <a href='../characterPages/Kunti.html'>Kunti</a> back to Mandraka.<p class='adegan' id='adegan10'><b>10</b>. <span class='badge'> Road</span> <b>Unnamed</b>. In the road <a href='../characterPages/Salya.html'>Salya</a> meets <a href='../characterPages/Pandu.html'>Pandu</a> who wants to enter the contest for <a href='../characterPages/Kunti.html'>Kunti</a>. <a href='../characterPages/Salya.html'>Salya</a> verbally provokes <a href='../characterPages/Pandu.html'>Pandu</a>. <a href='../characterPages/Semar.html'>Semar</a>, <a href='../characterPages/Gareng.html'>Gareng</a>, <a href='../characterPages/Petruk.html'>Petruk</a> and <a href='../characterPages/Bagong.html'>Bagong</a> don't appreciate <a href='../characterPages/Salya.html'>Salya</a>’s behavior and they change sides, coming to accompany <a href='../characterPages/Pandu.html'>Pandu</a>. <a href='../characterPages/Salya.html'>Salya</a> challenges <a href='../characterPages/Pandu.html'>Pandu</a> and invites him to a contest. If <a href='../characterPages/Salya.html'>Salya</a> loses then <a href='../characterPages/Kunti.html'>Kunti</a> and <a href='../characterPages/Madrim.html'>Madrim</a> will be given to Pandu. If <a href='../characterPages/Pandu.html'>Pandu</a> loses <a href='../characterPages/Salya.html'>Salya</a> will cut his neck. The challenge is accepted. Even though <a href='../characterPages/Salya.html'>Salya</a> uses the powerful Aji Candhabirawa, he is no match for <a href='../characterPages/Pandu.html'>Pandu</a>'s strength. <a href='../characterPages/Salya.html'>Salya</a>loses the fight. He surrenders <a href='../characterPages/Kunti.html'>Kunti</a> and <a href='../characterPages/Madrim.html'>Madrim</a> and asks for his forgiveness.<p class='adegan' id='adegan11'><b>11</b>. <span class='badge'> Road</span> <b>Unnamed</b>. <a href='../characterPages/Pandu.html'>Pandu</a> is on his way back to Astina and is interrupted by Prabu <a href='../characterPages/Gendara.html'>Gendara</a> and <a href='../characterPages/Sengkuni.html'>Sengkuni</a>, who are interested in the women travelling with <a href='../characterPages/Pandu.html'>Pandu</a>. A fight ensues and <a href='../characterPages/Gendara.html'>Gendara</a>, king of Plasajenar is killed by <a href='../characterPages/Pandu.html'>Pandu</a>. <a href='../characterPages/Gendari.html'>Gendari</a>, his young sister, is taken by <a href='../characterPages/Pandu.html'>Pandu</a>, who carries on his way.<p class='adegan' id='adegan12'><b>12</b>. Ngastina <a href='../characterPages/Pandu.html'>Pandu</a> returns with three women, to the delight of his older brother <a href='../characterPages/Destarastra.html'>Destarastra</a> who is given the first choice of the women. <a href='../characterPages/Destarastra.html'>Destarastra</a> choses <a href='../characterPages/Gendari.html'>Gendari</a>. <a href='../characterPages/Pandu.html'>Pandu</a> takes <a href='../characterPages/Madrim.html'>Madrim</a> and <a href='../characterPages/Kunti.html'>Kunti</a>. Dewi <a href='../characterPages/Gendari.html'>Gendari</a> holds a grudge against <a href='../characterPages/Pandu.html'>Pandu</a> that will one day lead to the Bharatayuda war.</div>

<div class="row">
		
	
    <div class="col-lg-6" >gato</div>           
	<div class="col-lg-6" >paato</div>
	</div>

	<div class="row">
		
	
    <div class="col-lg-6" id="graphspace"></div>           
	<div class="col-lg-6" id="sigma-container"></div>
	</div>
            </div>

        </div>



    </div>
    <!-- /.container -->

    <div class="container">

        <hr>

        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Copyright &copy; <a href="http://miguelescobar.com">Miguel Escobar Varela</a> and Andy Schauf 2017</p>
                </div>
            </div>
        </footer>

    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="../js/jquery.js"></script>
	<script src="http://d3js.org/d3.v3.min.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="../js/bootstrap.min.js"></script>
    <script src="../sigma/sigma.js"></script>
    <script src="../sigma/plugins/sigma.parsers.gexf.min.js"></script>
    <script>
    
    // Set the dimensions of the canvas / graph
var margin = {top: 30, right: 20, bottom: 60, left: 50},
    width = 400 - margin.left - margin.right,
    height = 300 - margin.top - margin.bottom;

// Parse the date / time
var parseDate = d3.time.format("%d-%b-%y").parse;

// Set the ranges
var x = d3.scale.linear().range([0, width]);
var y = d3.scale.linear().range([height, 0]);

// Define the axes
var xAxis = d3.svg.axis().scale(x)
    .orient("bottom").ticks(5);

var yAxis = d3.svg.axis().scale(y)
    .orient("left").ticks(5);

var cn = 0;
// Define the line
var valueline = d3.svg.line()
    .x(function(d) {
      cn+=1;
      return x(cn);
    })
    .y(function(d) { return y(d.characters); });

// Adds the svg canvas
var svg = d3.select("#graphspace")
    .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
    .append("g")
        .attr("transform", 
              "translate(" + margin.left + "," + margin.top + ")");

// Get the data

namesArray = [];

d3.csv("data/Kunthi_Pilih_(Lahiripun_Adipati_Karna).csv", function(error, data) {
	var counter = 0
    data.forEach(function(d) {
        d.characters = +d.characters;
        namesArray.push(d.names);
        counter +=1;
    });

    // Scale the range of the data
    x.domain([0,counter]);
    y.domain([0, d3.max(data, function(d) { return d.characters; })]);

    // Add the valueline path.
    svg.append("path")
        .attr("class", "line")
        .attr("d", valueline(data));

// Dots
	var counter = -1;
	var counter2 = 0;
	svg.selectAll("dot")
      .data(data)
      .enter().append("circle")
        .attr("r", 6)
        .attr("id", function(d) {
          counter += 1;
          return "adeganCircle" + counter;
          
        })
        .attr("class","joint")
        .on('mouseover',function(d,i){
          /*videoTime =  parseInt(this.id.split("gato")[1])/100;
          var currentAngle = y.invert(d3.mouse(this)[1]);
          console.log(currentAngle);
          goDance(videoTime);
          rotate(currentAngle);*/
          var adeganNumber = this.id.replace("adeganCircle","");
          
          $(".joint").css("fill","black");
          $(this).css("fill","blue");
          $(".adegan").css("background","white");
          console.log("#adegan" + parseInt(adeganNumber) + 1);
          $("#adegan" + (parseInt(adeganNumber) + 1)).css("background"," #e6ecff");
          currentCharacters = namesArray[adeganNumber].split("&");
          adegan(currentCharacters);
        })
        
        .attr("cy", function(d) { return y(d.characters); })
        .attr("cx", function(d) {
          counter2 += 1;
          return x(counter2);
        });

    // Add the X Axis
    svg.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(0," + height + ")")
        .call(xAxis);

    // Add the Y Axis
    svg.append("g")
        .attr("class", "y axis")
        .call(yAxis);

	svg.append("text")      // text label for the x axis
        .attr("x", width / 2 )
        .attr("y",  height - 15+ margin.bottom)
        .style("text-anchor", "middle")
        .text("Scene number");

	svg.append("text")
       .attr("transform", "rotate(-90)")
       .attr("y", 0 - margin.left)
       .attr("x",0 - (height / 2))
       .attr("dy", "1em")
       .style("text-anchor", "middle")
       .text("Number of characters");

});

sigma.classes.graph.addMethod('neighbors', function(nodeId) {
       var k,
           neighbors = {},
           index = this.allNeighborsIndex[nodeId] || {};

       for (k in index)
         neighbors[k] = this.nodesIndex[k];

       return neighbors;
     });

      sigma.parsers.gexf(
        'networkData/networkGraphs/Babad_Wanamarta.gexf',
        { // Here is the ID of the DOM element that
          // will contain the graph:
          container: 'sigma-container',
          settings: {
          minNodeSize: 2,
          maxNodeSize: 10
		  }
        

        },
        function(s) {
          // This function will be executed when the
          // graph is displayed, with "s" the related
          // sigma instance.
          s.graph.nodes().forEach(function(n) {
            n.originalColor = n.color;
            n.originalLabel = n.label;
          });
          s.graph.edges().forEach(function(e) {
            e.originalColor = e.color;
          });

          // When a node is clicked, we check for each node
          // if it is a neighbor of the clicked one. If not,
          // we set its color as grey, and else, it takes its
          // original color.
          // We do the same for the edges, and we only keep
          // edges that have both extremities colored.
          //s.bind('clickNode', function(e) {
          adegan = function(costars){  
            
                toKeep = costars;
                
            s.graph.nodes().forEach(function(n) {
              
              if (toKeep.includes(n.id)){
                n.color = n.originalColor;
                n.label = n.originalLabel;
              }
              else{
                n.color = '#eee';
                n.label = "";
                
              }
            });

            s.graph.edges().forEach(function(e) {
             
			  if (toKeep.includes(e.source) && toKeep.includes(e.target)){	  
                e.color = e.originalColor;
                //explanation += JSON.stringify(e);
                //explanation += e.source;
              }
              else{
                e.color = '#eee';
              }
              //if (toKeep[e.source] && toKeep[e.target])
            });



            // Since the data has been modified, we need to
            // call the refresh method to make the colors
            // update effective.
            s.refresh();
          //});
		}
          // When the stage is clicked, we just color each
          // node and edge with its original color.
          s.bind('clickStage', function(e) {
            s.graph.nodes().forEach(function(n) {
              n.color = n.originalColor;
              n.label = n.originalLabel;
            });

            s.graph.edges().forEach(function(e) {
              e.color = e.originalColor;
            });

            // Same as in the previous event:
            s.refresh();
          });
        }
      );


    </script>

</body>

</html>
