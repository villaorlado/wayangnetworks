<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Digital Wayang Encyclopedia">
    <meta name="author" content="Miguel Escobar Varela">
    <style></style>
    <title>Babad_Wanamarta</title>
    <link type="text/css" rel="stylesheet" href="../css/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet" href="../css/shop-item.css" />
    <link type="text/css" rel="stylesheet" href="../css/jquery.dataTables.min.css" />
    <link type="text/css" rel="stylesheet" href="../css/jquery.typeahead.css" />
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
      <![endif]-->
  </head>

  <body data-spy="scroll" data-target="#myScrollspy">
    <nav class="navbar navbar-inverse navbar-top navbar-static-top" role="navigation">
      <div class="container">
        <div class="navbar-header"> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button> <a class="navbar-brand" style="color:lightgray;cursor:default">Digital Wayang Encyclopedia</a> </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li><a href="../index.html">About</a></li>
            <li><a href="../canonical.html">Network analysis</a></li>
            <li><a href="../characters.html">Characters</a></li>
            <li><a href="../lakons.html">Lakons (stories)</a></li>
          </ul>
          <form class="navbar-form navbar-right">
            <div class="typeahead__container">
              <div class="typeahead__field"> <span class="typeahead__query">
                <input class="js-typeahead"
                                             name="q"
                                             type="search"
                                             autofocus
                                             placeholder="Search"
                                             autocomplete="off">
                                  </span> <span class="typeahead__button">
                                      <button class="btn btn-default" type="submit">
                                          <span class="typeahead__search-icon"></span> </button>
                </span>
              </div>
            </div>
          </form>
        </div>
      </div>
    </nav>
    <div class="container">
      <div class="row">
        <div class="col-md-3" id="smyScrollspy">
          <ul class="nav nav-pills nav-stacked leftnav" data-spy="affix" data-offset-top="0">
            <li><a href="#CharacterList">Character List</a></li>
            <li><a href="#Pathet Nem">Pathet Nem</a></li>
            <li><a href="#Pathet Sanga">Pathet Sanga</a></li>
            <li><a href="#Pathet Manyura">Pathet Manyura</a></li>
            <li><a href="#Graphs">Graphs</a></li>
          </ul>
        </div>
        <div class="col-md-9" style="">
<h1>Babad_Wanamarta</h1><div class="datum" id="CharacterList"><p>This lakon has 24 characters:  <a href='../characterPages/Gareng.html'>Gareng</a>, <a href='../characterPages/Durna.html'>Durna</a>, <a href='../characterPages/Bagong.html'>Bagong</a>, <a href='../characterPages/Bayu.html'>Bayu</a>, <a href='../characterPages/Sadewa.html'>Sadewa</a>, <a href='../characterPages/Bisma.html'>Bisma</a>, <a href='../characterPages/Sengkuni.html'>Sengkuni</a>, <a href='../characterPages/Dhandhonwacana.html'>Dhandhonwacana</a>, <a href='../characterPages/Puntadewa.html'>Puntadewa</a>, <a href='../characterPages/Semar.html'>Semar</a>, <a href='../characterPages/Kunti.html'>Kunti</a>, <a href='../characterPages/Arimbi.html'>Arimbi</a>, <a href='../characterPages/Suparta.html'>Suparta</a>, <a href='../characterPages/Arjuna.html'>Arjuna</a>, <a href='../characterPages/Werkudara.html'>Werkudara</a>, <a href='../characterPages/Petruk.html'>Petruk</a>, <a href='../characterPages/Abiyasa.html'>Abiyasa</a>, <a href='../characterPages/Asmarawati.html'>Asmarawati</a>, <a href='../characterPages/Duryudana.html'>Duryudana</a>, <a href='../characterPages/Destarastra.html'>Destarastra</a>, <a href='../characterPages/Nakula.html'>Nakula</a>, <a href='../characterPages/Gendari.html'>Gendari</a>, <a href='../characterPages/Yudhistira.html'>Yudhistira</a>, <a href='../characterPages/Wilawuk.html'>Wilawuk</a>,</div><div class="datum"><p>&nbsp;<p id='Pathet Nem'><h3>Pathet Nem</h3><br/><p class='adegan' id='adegan1'><b>1</b>. <span class='badge'> Jejer</span> <b>Astina</b>. <a href='../characterPages/Destarastra.html'>Destarastra</a>, <a href='../characterPages/Bisma.html'>Bisma</a>, <a href='../characterPages/Durna.html'>Durna</a> and <a href='../characterPages/Sengkuni.html'>Sengkuni</a> discuss the fire at the Bale Sigala-Gala, which is believed to have killed the Pandawa. However, <a href='../characterPages/Bisma.html'>Bisma</a> does not believe that the Pandawa were killed. Then <a href='../characterPages/Bisma.html'>Bisma</a> narrates the events that have befallen the Pandawa after the fire. Raden <a href='../characterPages/Werkudara.html'>Werkudara</a> arrives and confirms that the Pandawa are alive and well. They are then given the Wanamarta area to rule over. This area must first be cleared for a kingdom to be built there. <a href='../characterPages/Sengkuni.html'>Sengkuni</a> and the Korawa are ordered to help <a href='../characterPages/Werkudara.html'>Werkudara</a>.<p class='adegan' id='adegan2'><b>2</b>. <span class='badge'> Kedhaton</span> <b>Astina</b>. <a href='../characterPages/Gendari.html'>Gendari</a> receives the king <a href='../characterPages/Destarastra.html'>Destarastra</a> and offers him a feast. Then <a href='../characterPages/Destarastra.html'>Destarastra</a> retires to his meditation chambers and prays that <a href='../characterPages/Werkudara.html'>Werkudara</a>'s royal hall can be built.<p class='adegan' id='adegan3'><b>3</b>. <span class='badge'> Alun-alun</span> <b>Astina</b>. <a href='../characterPages/Sengkuni.html'>Sengkuni</a>, <a href='../characterPages/Duryudana.html'>Duryudana</a> and the Korawa discuss how to kill the Pandawa. Sengkuni suggests that the construction of the Wanamarta hall can provide them with a good opportunity to put an end to the Pandawa. By pretending to help <a href='../characterPages/Werkudara.html'>Werkudara</a> they can get close to him and kill him.<p class='adegan' id='adegan4'><b>4</b>. <span class='badge'> Wana</span> <b>Wanamarta</b>. Even though it's called a forest, Wanamarta is in reality a  beautiful and busy city, but its wonders are invisible to the naked eye. <a href='../characterPages/Werkudara.html'>Werkudara</a> arrives and asks for God's blessing as he starts clearing the forest. The genies, led by <a href='../characterPages/Suparta.html'>Suparta</a> and <a href='../characterPages/Dhandhonwacana.html'>Dhandhonwacana</a> are angered by this human's temerity and manage to rid him of his strength by striking him with the Kyai Wuluh Gadhing arrow.<p class='adegan' id='adegan5'><b>5</b>. <span class='badge'> Pertapaan</span> <b>SendhangCintaka</b>. Endang <a href='../characterPages/Asmarawati.html'>Asmarawati</a> is troubled by a dream where <a href='../characterPages/Arjuna.html'>Arjuna</a> arrives and marries her. She appeals to her father Begawan <a href='../characterPages/Wilawuk.html'>Wilawuk</a> to find <a href='../characterPages/Arjuna.html'>Arjuna</a>. Out of love for his daughter he complies with her wishes.<p>&nbsp;<p id='Pathet Sanga'><h3>Pathet Sanga</h3><br/><p class='adegan' id='adegan6'><b>6</b>. <span class='badge'> Wana</span> <b>Unnamed</b> <a href='../characterPages/Arjuna.html'>Arjuna</a>, <a href='../characterPages/Semar.html'>Semar</a>, <a href='../characterPages/Bagong.html'>Bagong</a>, <a href='../characterPages/Gareng.html'>Gareng</a> and <a href='../characterPages/Petruk.html'>Petruk</a> have just left the Pertapaan Sapta Arga. They have been ordered to accompany <a href='../characterPages/Werkudara.html'>Werkudara</a> to Astina. <a href='../characterPages/Arjuna.html'>Arjuna</a> is sad, but <a href='../characterPages/Semar.html'>Semar</a> is able to provide him with comfort. <a href='../characterPages/Wilawuk.html'>Wilawuk</a> arrives and manages to convince <a href='../characterPages/Arjuna.html'>Arjuna</a> to follow him to the Pertapaan Sendhang Cintaka.<p class='adegan' id='adegan7'><b>7</b>. <span class='badge'> Pertapaan</span> <b>SendhangCintaka</b>. <a href='../characterPages/Arjuna.html'>Arjuna</a> marries Endang <a href='../characterPages/Asmarawati.html'>Asmarawati</a>. <a href='../characterPages/Wilawuk.html'>Wilawuk</a> gives him a special weapon. Wilawuk can also help clear the Wanamarta forest since he is a carpenter for the Amarta kingdom. After spending time with his new wife, <a href='../characterPages/Arjuna.html'>Arjuna</a> carries on with his journey, in search of <a href='../characterPages/Werkudara.html'>Werkudara</a>.<p class='adegan' id='adegan8'><b>8</b>. <span class='badge'> Jejer</span> <b>Pringgandani</b>. The princess of Pringgandani, <a href='../characterPages/Arimbi.html'>Arimbi</a>, has fallen in love with <a href='../characterPages/Werkudara.html'>Werkudara</a>, who is currently in the Pringgandani forest. Arimbi meditates, determined to only stop once she can marry <a href='../characterPages/Werkudara.html'>Werkudara</a>. <a href='../characterPages/Arjuna.html'>Arjuna</a> arrives and they talk. <a href='../characterPages/Arimbi.html'>Arimbi</a> then leaves to find <a href='../characterPages/Werkudara.html'>Werkudara</a>.<p>&nbsp;<p id='Pathet Manyura'><h3>Pathet Manyura</h3><br/><p class='adegan' id='adegan9'><b>9</b>. <span class='badge'> Jejer</span> <b>Amarta</b>. The king Jim <a href='../characterPages/Yudhistira.html'>Yudhistira</a> rules with his four brothers, who look like the Pandawa. He faces his Amarta Brothers and tells them that humans were spotted in his area. He tells his brothers that the area will now be a human area and they all prepare to reincarnate into human bodies.<p class='adegan' id='adegan10'><b>10</b>. <span class='badge'> Unnamed</span> <b>Unnamed</b>. <a href='../characterPages/Werkudara.html'>Werkudara</a> has been sick for a few days, spitting blood after being hit by the Kyai Wuluh Gading arrow from Jim <a href='../characterPages/Suparta.html'>Suparta</a>. <a href='../characterPages/Wilawuk.html'>Wilawuk</a> finds <a href='../characterPages/Werkudara.html'>Werkudara</a>. <a href='../characterPages/Arimbi.html'>Arimbi</a>, assisted by <a href='../characterPages/Bayu.html'>Bayu</a> is able to cure him. <a href='../characterPages/Wilawuk.html'>Wilawuk</a> suggests that all the Pandawa brothers work together in clearing the forest, so that this task can be quickly finished.<p class='adegan' id='adegan11'><b>11</b>. <span class='badge'> Jejer</span> <b>Amarta</b> After the Pandawa finish their work, <a href='../characterPages/Wilawuk.html'>Wilawuk</a> utters a mantra and a Kraton of Amarta is now visible to the naked eye. Prabu <a href='../characterPages/Yudhistira.html'>Yudhistira</a> enters the body of <a href='../characterPages/Puntadewa.html'>Puntadewa</a>, and his Amarta Brothers follow, entering the bodies of <a href='../characterPages/Arjuna.html'>Arjuna</a>, <a href='../characterPages/Werkudara.html'>Werkudara</a>, <a href='../characterPages/Nakula.html'>Nakula</a> and <a href='../characterPages/Sadewa.html'>Sadewa</a>. <a href='../characterPages/Kunti.html'>Kunti</a> utters a mantra that turns <a href='../characterPages/Arimbi.html'>Arimbi</a> into a beautiful woman, who then marries Werkudara. The wedding is witnessed by <a href='../characterPages/Kunti.html'>Kunti</a> and <a href='../characterPages/Abiyasa.html'>Abiyasa</a>.</div>
    
    
    <!--interactive graph-->
    <div class="datum" id="Graphs">
		<h3>Graphs</h3>
		<div class="row">
			<div class="col-lg-6" id="graphspace"></div>           
			<div class="col-lg-6"><div id="sigma-container"></div></div>
		</div>
	</div>
	</div>
	</div>
    
    </div>
  </div>
    <!-- /.container -->
    <!--Footer-->
<footer class="footer">
    <div class="container">
        <div class="row">

            <!--First column-->

            <div class="col-md-12">
              <p>
              Programming and information by <a href="http://miguelescobar.com">Miguel Escobar Varela</a>. Research assistants: Hariyanto, Losheini Ravindran, F.X. Satriyo Nugroho, Yosephin Novi Marginingrum and Andi Wicaksono. Scientific advisor: Andrew Schauf.</p>

            </div>
            <!--/.First column-->

            <!--Second column-->

            <!--/.Second column-->
        </div>
    </div>
    <!--/.Footer Links-->

    <!--Copyright-->
    <div class="footer-copyright py-3 text-center">
      <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://licensebuttons.net/l/by/4.0/88x31.png" /></a> This work is licensed under a <a rel="license"
        href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
    </div>
    <!--/.Copyright-->

</footer>
<!--/.Footer-->
    <!-- /.container -->
    <script src="http://d3js.org/d3.v3.min.js"></script>
    ><script src="../js/jquery.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/jquery.typeahead.js"></script>
    <script>var rootURL="../";</script>
    <script src="../js/search.js"></script>
  
  <!-- script specific to lakon-->
  <script src="../sigma/sigma.js"></script>
    <script src="../sigma/plugins/sigma.parsers.gexf.min.js"></script>
    <script>
    
    // Set the dimensions of the canvas / graph
var margin = {top: 30, right: 20, bottom: 60, left: 50},
    width = 400 - margin.left - margin.right,
    height = 300 - margin.top - margin.bottom;

// Parse the date / time
var parseDate = d3.time.format("%d-%b-%y").parse;

// Set the ranges
var x = d3.scale.linear().range([0, width]);
var y = d3.scale.linear().range([height, 0]);

// Define the axes
var xAxis = d3.svg.axis().scale(x)
    .orient("bottom").ticks(5);

var yAxis = d3.svg.axis().scale(y)
    .orient("left").ticks(5);

var cn = 0;
// Define the line
var valueline = d3.svg.line()
    .x(function(d) {
      cn+=1;
      return x(cn);
    })
    .y(function(d) { return y(d.characters); });

// Adds the svg canvas
var svg = d3.select("#graphspace")
    .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
    .append("g")
        .attr("transform", 
              "translate(" + margin.left + "," + margin.top + ")");

// Get the data

namesArray = [];

d3.csv("data/Babad_Wanamarta.csv", function(error, data) {
	var counter = 0
    data.forEach(function(d) {
        d.characters = +d.characters;
        namesArray.push(d.names);
        counter +=1;
    });

    // Scale the range of the data
    x.domain([0,counter]);
    y.domain([0, d3.max(data, function(d) { return d.characters; })]);

    // Add the valueline path.
    svg.append("path")
        .attr("class", "line")
        .attr("d", valueline(data));

// Dots
	var counter = -1;
	var counter2 = 0;
	svg.selectAll("dot")
      .data(data)
      .enter().append("circle")
        .attr("r", 6)
        .attr("id", function(d) {
          counter += 1;
          return "adeganCircle" + counter;
          
        })
        .attr("class","joint")
        .on('mouseover',function(d,i){
          var adeganNumber = this.id.replace("adeganCircle","");
          $(".joint").css("fill","black");
          $(this).css("fill","blue");
          $(".adegan").css("background","white");
          $("#adegan" + (parseInt(adeganNumber) + 1)).css("background"," #e6ecff");
          currentCharacters = namesArray[adeganNumber].split("&");
          adegan(currentCharacters);
        })
        
        .attr("cy", function(d) { return y(d.characters); })
        .attr("cx", function(d) {
          counter2 += 1;
          return x(counter2);
        });

    // Add the X Axis
    svg.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(0," + height + ")")
        .call(xAxis);

    // Add the Y Axis
    svg.append("g")
        .attr("class", "y axis")
        .call(yAxis);

	svg.append("text")      // text label for the x axis
        .attr("x", width / 2 )
        .attr("y",  height - 15+ margin.bottom)
        .style("text-anchor", "middle")
        .text("Scene number");

	svg.append("text")
       .attr("transform", "rotate(-90)")
       .attr("y", 0 - margin.left)
       .attr("x",0 - (height / 2))
       .attr("dy", "1em")
       .style("text-anchor", "middle")
       .text("Number of characters");
       
//pathet nem
	svg.append("line")
        .attr("x1", function(){return x(5)-10})
        .attr("y1", function(){return y(0)})
        .attr("x2", function(){return x(5)-10})
        .attr("y2", function(){return y(11)})
        .attr("class","label-line")
        .attr("stroke-width", 2)
        .attr("stroke", "green")       
        .style("stroke-dasharray",(3,3));
 
 //pathet nem
	svg.append("line")
        .attr("x1", function(){return x(7)-10})
        .attr("y1", function(){return y(0)})
        .attr("x2", function(){return x(7)-10})
        .attr("y2", function(){return y(11)})
        .attr("class","label-line")
        .attr("stroke-width", 2)
        .attr("stroke", "green")       
        .style("stroke-dasharray",(3,3));
 
     svg.append("text")
       
       .attr("y", function(){return x(5)-30})
       .attr("x", - (height / 2))
       .attr("dy", "1em")
       .style("text-anchor", "middle")
       .text("nem neman");

});

sigma.classes.graph.addMethod('neighbors', function(nodeId) {
       var k,
           neighbors = {},
           index = this.allNeighborsIndex[nodeId] || {};

       for (k in index)
         neighbors[k] = this.nodesIndex[k];

       return neighbors;
     });

      sigma.parsers.gexf(
        'networkData/networkGraphs/Babad_Wanamarta.gexf',
        { // Here is the ID of the DOM element that
          // will contain the graph:
          container: 'sigma-container',
          settings: {
          minNodeSize: 2,
          maxNodeSize: 10
		  }
        

        },
        function(s) {
          // This function will be executed when the
          // graph is displayed, with "s" the related
          // sigma instance.
          s.graph.nodes().forEach(function(n) {
            n.originalColor = n.color;
            n.originalLabel = n.label;
          });
          s.graph.edges().forEach(function(e) {
            e.originalColor = e.color;
          });

          // When a node is clicked, we check for each node
          // if it is a neighbor of the clicked one. If not,
          // we set its color as grey, and else, it takes its
          // original color.
          // We do the same for the edges, and we only keep
          // edges that have both extremities colored.
          //s.bind('clickNode', function(e) {
          adegan = function(costars){  
            
                toKeep = costars;
                
            s.graph.nodes().forEach(function(n) {
              
              if (toKeep.includes(n.id)){
                n.color = n.originalColor;
                n.label = n.originalLabel;
              }
              else{
                n.color = '#eee';
                n.label = "";
                
              }
            });

            s.graph.edges().forEach(function(e) {
             
			  if (toKeep.includes(e.source) && toKeep.includes(e.target)){	  
                e.color = e.originalColor;
                //explanation += JSON.stringify(e);
                //explanation += e.source;
              }
              else{
                e.color = '#eee';
              }
              //if (toKeep[e.source] && toKeep[e.target])
            });



            // Since the data has been modified, we need to
            // call the refresh method to make the colors
            // update effective.
            s.refresh();
          //});
		}
          // When the stage is clicked, we just color each
          // node and edge with its original color.
          s.bind('clickStage', function(e) {
            s.graph.nodes().forEach(function(n) {
              n.color = n.originalColor;
              n.label = n.originalLabel;
            });

            s.graph.edges().forEach(function(e) {
              e.color = e.originalColor;
            });

            // Same as in the previous event:
            s.refresh();
          });
        }
      );


    </script>
  
  </body>



</html>
